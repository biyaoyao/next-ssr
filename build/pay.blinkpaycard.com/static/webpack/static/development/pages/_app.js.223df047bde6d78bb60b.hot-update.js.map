{"version":3,"file":"static/webpack/static/development/pages/_app.js.223df047bde6d78bb60b.hot-update.js","sources":["webpack:///./pages/common/mixins/index.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { $locate } from '../../store';\nimport url from '../../common/lib/url/index';\nimport localMesaage from '../../config/i18n/index';\nimport http from '../lib/request/index';\nimport { string, obj, date, file } from '../lib/index';\nimport Cookie from '../lib/cookie/index';\nimport config from '../../config/index';\nimport router from 'next/router';\n//router.location = router.router;\nexport default (ComposedComponent) =>class  extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { data: null };\n\t}\n\tcomponentDidMount() {\n\t\trouter.location = router.router;\n\n\t\tthis.initLocate();\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<ComposedComponent\n\t\t\t\t{...this.props}\n\t\t\t\tCookie={Cookie}\n\t\t\t\tplain={this.plain}\n\t\t\t\trouter={router}\n\t\t\t\tobjUtil={obj}\n\t\t\t\tdata={this.state.data}\n\t\t\t\tformateNumber={this.formateNumber}\n\t\t\t\tdateFormat={date.formatDate}\n\t\t\t\tdate={date}\n\t\t\t\tfile={file}\n\t\t\t\tstringUtil={string}\n\t\t\t\tajax={http.ajax}\n\t\t\t/>\n\t\t);\n\t}\n\n\t/**\n     * 语言初始化\n     */\n\tinitLocate() {\n\t\tconsole.log('initLocate', config);\n\t\tlet locate = null;\n\n\t\tconfig.locateList.forEach((item) => {\n\t\t\tif (config.locate === item.value) {\n\t\t\t\tlocate = item;\n\t\t\t}\n\t\t});\n\t\tconfig.locateList.forEach((item) => {\n\t\t\tif (localStorage.getItem('locate') === item.value) {\n\t\t\t\tlocate = item;\n\t\t\t}\n\t\t});\n\t\tconfig.locateList.forEach((item) => {\n\t\t\tif (url.getParam('locate') === item.value) {\n\t\t\t\tlocate = item;\n\t\t\t}\n\t\t});\n\n\t\t$locate.subscribe(() => {\n\t\t\tconsole.error('subscribe', $locate.getState().locate);\n\t\t\tlocate = $locate.getState().locate;\n\t\t\tlocate.localMesaage = localMesaage[locate.value];\n\t\t\tif (locate && (!this.locate || this.locate !== locate)) {\n\t\t\t\tthis.locate = locate;\n\t\t\t\tlocalStorage.setItem('locate', locate.value);\n\t\t\t\tthis.setState({\n\t\t\t\t\tlocate: locate\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t$locate.dispatch({\n\t\t\ttype: 'locate',\n\t\t\tpayload: locate,\n\t\t\tcallback: () => {}\n\t\t});\n\t}\n\t$t(key) {\n\t\tif ($locate.getState().locate && $locate.getState().locate.localMesaage) {\n\t\t\treturn $locate.getState().locate.localMesaage[key];\n\t\t} else {\n\t\t\treturn localMesaage[config.locate][key];\n\t\t}\n\t}\n\tplain(data) {\n\t\treturn JSON.parse(JSON.stringify(data));\n\t}\n\tformateNumber(number) {\n\t\treturn (number + '').replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n\t}\n};\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAGA;AACA;AALA;AAAA;AAAA;AAMA;AAEA;AACA;AATA;AAAA;AAAA;AAWA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAeA;AAEA;;;;AA7BA;AAAA;AAAA;AAgCA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AArEA;AAAA;AAAA;AAuEA;AACA;AACA;AACA;AACA;AACA;AA5EA;AAAA;AAAA;AA8EA;AACA;AA/EA;AAAA;AAAA;AAiFA;AACA;AAlFA;AACA;AADA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}