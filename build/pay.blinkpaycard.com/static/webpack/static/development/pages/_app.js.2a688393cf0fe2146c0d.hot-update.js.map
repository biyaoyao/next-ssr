{"version":3,"file":"static/webpack/static/development/pages/_app.js.2a688393cf0fe2146c0d.hot-update.js","sources":["webpack:///./pages/_app.js","webpack:///./pages/projects/pay.blinkpaycard.com/index.js"],"sourcesContent":["import App, { Container } from 'next/app';\nimport router from 'next/router';\nimport 'antd/dist/antd.min.css';\nimport './assets/css/index.less';\nimport http from './common/lib/request/index';\nimport config from './config/index';\nimport React from 'react';\nimport IndexLoading from './components/index-loading/index';\nexport default class MyApp extends App {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshow: false,\n\t\t\trouter: {},\n\t\t\ttime: 10\n\t\t};\n\t}\n\tstatic async getInitialProps({ Component, router, ctx }) {\n\t\tlet pageProps = {};\n\t\tif (Component.getInitialProps) {\n\t\t\tpageProps = await Component.getInitialProps(ctx);\n\t\t}\n\n\t\treturn { pageProps };\n\t}\n\tasync validPreOrder(params) {\n\t\tconsole.log('validPreOrder', params);\n\t\tconst res = await http.ajax({\n\t\t\tapi: config.api.validPreOrder,\n\t\t\tdata: {\n\t\t\t\tpre_order: params.pre_order,\n\t\t\t\tmch_id: params.mch_id\n\t\t\t}\n\t\t});\n\t\treturn new Promise((resolve) => {\n\t\t\tif (parseInt(res.code) === 200) {\n\t\t\t\tresolve(0);\n\t\t\t} else if (parseInt(res.code) === 40015) {\n\t\t\t\tresolve(1);\n\t\t\t} else {\n\t\t\t\tresolve(-1);\n\t\t\t}\n\t\t});\n\t}\n\tasync componentDidMount() {\n\t\tconsole.log('componentDidMount', router.router.asPath);\n\t\tconst pathname = router.router.pathname;\n\t\tconst asPath = router.router.asPath;\n\t\tconst project = pathname.replace('/projects/', '').replace('/views' + asPath, '');\n\t\tconsole.error('project', project);\n\t\tlet valid = await this.validPreOrder(router.router.query);\n\t\tthis.setState({\n\t\t\tshow: true,\n\t\t\tproject:project\n\t\t});\n\t\t// let time = setInterval(() => {\n\t\t// \tconsole.log('componentDidMount',this.state.time);\n\t\t// \tif (this.state.time <= 0) {\n\t\t// \t\tthis.setState({\n\t\t// \t\t\tshow: true\n\t\t// \t\t});\n\t\t// \t\tclearInterval(time);\n\t\t// \t} else {\n\t\t// \t\tthis.setState({\n\t\t// \t\t\ttime: this.state.time-1\n\t\t// \t\t});\n\t\t// \t}\n\t\t// }, 1000);\n\t}\n\n\trender() {\n\t\t//let valid = await this.validPreOrder(nextState.location.query);\n\t\tconst { Component, pageProps } = this.props;\n\t\t\n\t\tif (this.state.project) {\n\t\t\tconsole.error('project', this.state.project);\n\t\t\tconst  projectEntry = require('../pages/projects/pay.blinkpaycard.com/index');\n\t\t\treturn <Container>{this.state.show ? <Component {...pageProps} /> : <IndexLoading />}</Container>;\n\t\t}\n\n\t\treturn null;\n\t}\n}\n","import App, { Container } from 'next/app';\nexport default class MyApp extends App {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshow: false,\n\t\t\trouter: {},\n\t\t\ttime: 10\n\t\t};\n\t}\n\n\tasync componentDidMount() {\n\t\tconsole.error('componentDidMount', 'pay.blinkpaycard.com');\n\t\t\n\t}\n\n\trender() {\n\t\tconst { Component, pageProps } = this.props;\n\t\treturn <Container>{this.state.show ? <Component {...pageProps} /> : <IndexLoading />}</Container>;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAOA;AACA;;;;;;AAQA;;;;;;AACA;;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AACA;;AADA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;;AACA;AACA;;AADA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AAEA;AACA;AADA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAhEA;AACA;AACA;AAAA;;;;;;AACA;AACA;;AADA;AACA;;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;AAhBA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;AACA;AAAA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAOA;AACA;;;;;;;;;;;AAEA;AACA;;;;;;;;;;;;;;;AAGA;AAAA;AAAA;AAAA;AAEA;AACA;;;;AAlBA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}